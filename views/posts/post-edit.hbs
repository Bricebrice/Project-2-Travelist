<div class="create-form-body">
    <div class="custom-container mt-5">
        <h3>Edit Your Post</h3>

        <form action="/explore/posts/{{post._id}}/edit" method="POST" enctype="multipart/form-data">
    
            <div class="mb-3">
                <label class="form-label">Title:</label>
                <input type="text" name="title" class="form-control" placeholder="{{post.title}}" value="{{post.title}}">
            </div>
 
            <div class="mb-3">
                <label class="form-label">Image:</label>
                    <div class=" mx-auto">
                        <img id="imagePreview" class="thumbnail rounded" src="{{post.image}}" alt="Post Image Preview">
                    </div>
                <div class="mb-3">
                    <label for="formFile" class="form-label"></label>
                    <input class="form-control " type="file" id="formFile" name="postImage">
                </div>
                <input type="text" name="existingImage" hidden value="{{post.image}}">
            </div>
    
            <div class="mb-3">
                <label for="location" class="form-label">Location:</label>
                <select id="location" name="location" class="form-control">
                    <option value="{{post.location}}">{{post.location}}</option>
                    {{#each countries}}
                        <option value="{{name}}">{{name}}</option>
                    {{/each}}
                </select>
            </div>

            <div class="mb-3">
                <label for="description"class="form-label">Description:</label>
                <textarea name="description" class="form-control" rows="10" cols="45">{{post.description}}</textarea>
            </div>
   
            <div class="mb-3">
                <label class="form-label">Duration:</label>
                <input type="text" name="duration" class="form-control" placeholder="Add duration in days" value="{{post.duration}}">
            </div>
 
            <div class="mb-3">
                <label class="form-label">Distance:</label>
                <input type="text" name="distance" class="form-control" placeholder="Add distance in km" value="{{post.distance}}">
            </div>
 
            <div class="mb-3">
                <label class="form-label">Type of Trip:</label>
                <select name="typeOfTrip" class="form-control" multiple>
                    <option>Escape trip</option>
                    <option>Spa trip</option>
                    <option>Honeymoon</option>
                    <option>Cultural Trip</option> 
                    <option>Road Trip</option>
                </select>
            </div>
  
            <button type="submit" class="btn btn-danger">Update Post</button>
        </form>

        <form action="/explore/posts/{{post._id}}/delete" method="POST">
            <button type="submit" class="btn btn-danger">Delete Post</button>
        </form>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
    var select = document.getElementById('location');
    var options = Array.from(select.options);

    options.sort(function (a, b) {
      return a.value.localeCompare(b.value);
    });

    select.innerHTML = "";
    options.forEach(function (option) {
      select.add(option);
    });
  });
</script>
